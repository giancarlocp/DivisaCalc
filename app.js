const pr=1e5,fix=c=>Math.round(c*pr)/pr;function G(){const c={c:{u:5,b:1e3,c:20},p:{u:0,b:0,c:0},v:{u:0,b:0,c:0},d:{u:0,b:0,c:0}};function u(u,b){"u"===u?(c[b].b=fix(c[b].u*u2b),c[b].c=fix(c[b].b/c2b)):"b"===u?(c[b].u=fix(c[b].b/u2b),c[b].c=fix(c[b].b/c2b)):"c"===u&&(c[b].b=fix(c[b].c*c2b),c[b].u=fix(c[b].b/u2b))}const b=()=>c.p.u*u2b+c.p.b+c.p.c*c2b;function t(u){"u"==u?(c.v.u=fix(b()/u2b-c.c.u),c.v.b=fix(c.v.u*u2b),c.v.c=fix(c.v.b/c2b)):"b"==u?(c.v.b=fix(b()-c.c.b),c.v.u=fix(c.v.b/u2b),c.v.c=fix(c.v.b/c2b)):"c"==u&&(c.v.c=fix(b()/c2b-c.c.c),c.v.b=fix(c.v.c*c2b),c.v.u=fix(c.v.b/u2b))}const n=inputfn(function(b){let{value:n,id:i}=b.target;n=num(n);const[e,m]=i;c[e][m]=n,"c"==e?(u(m,e),t(m)):"p"==e?t(m):"d"==e&&u(m,e)});return{view:({attrs:u})=>(u2b=u.s.u2b,c2b=u.s.c2b,m(".container",[m(".item.h","$"),m(".item.h","Bs"),m(".item.h","Co"),m(""),n(c.c.u,"cu"),n(c.c.b,"cb"),n(c.c.c,"cc"),m(".item.v","Fact"),n(c.p.u,"pu"),n(c.p.b,"pb"),n(c.p.c,"pc"),m(".item.v","Pago"),n(c.v.u,"vu"),n(c.v.b,"vb"),n(c.v.c,"vc"),m(".item","Vuelto"),m(""),m(""),m(""),m("",{style:"color:teal"},"."),n(c.d.u,"du"),n(c.d.b,"db"),n(c.d.c,"dc")]))}}const inputfn=c=>(u,b)=>{return m("input.item",{type:"number",value:u,id:b,style:u<0?"background-color:tomato":"",onchange:c})},num=c=>""==c?0:parseFloat(c);function AppView(){const c={u2b:200,c2b:50};function u(u){let{value:b,id:t}=u.target;b=num(b),c[t]=b}const b=(c,b,t)=>m(".fex",[m("label",c),inputfn(u)(b,t)]);return{view:u=>m("",[m(".flx",[b("Bs/$",c.u2b,"u2b"),b("Bs/Co",c.c2b,"c2b")]),m(G,{s:c})])}}const node=document.getElementById("app");m.mount(node,AppView);
